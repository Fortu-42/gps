!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.MapboxClient=e()}}(function(){var e;return function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[s]={exports:{}};e[s][0].call(p.exports,function(t){var r=e[s][1][t];return o(r?r:t)},p,p.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t){"use strict";e("./promise");var r=e("rest/interceptor"),n=r({success:function(e){var t=e&&e.callback;return"function"==typeof t&&t(null,e.entity,e),e},error:function(e){var t=e&&e.callback;if("function"==typeof t){var r=e.error||e.entity;"object"!=typeof r&&(r=new Error(r)),t(r)}return e}});t.exports=n},{"./promise":9,"rest/interceptor":26}],2:[function(e,t){"use strict";e("./promise");var r=e("rest"),n=e("./standard_response"),o=e("./callbackify");t.exports=function(t){return r.wrap(e("rest/interceptor/errorCode")).wrap(e("rest/interceptor/pathPrefix"),{prefix:t.endpoint}).wrap(e("rest/interceptor/mime"),{mime:"application/json"}).wrap(e("rest/interceptor/params")).wrap(e("rest/interceptor/defaultRequest"),{params:{access_token:t.accessToken}}).wrap(e("rest/interceptor/template")).wrap(n).wrap(o)}},{"./callbackify":1,"./promise":9,"./standard_response":18,rest:22,"rest/interceptor/defaultRequest":27,"rest/interceptor/errorCode":28,"rest/interceptor/mime":29,"rest/interceptor/params":30,"rest/interceptor/pathPrefix":31,"rest/interceptor/template":32}],3:[function(e,t){t.exports.DEFAULT_ENDPOINT="https://api.mapbox.com",t.exports.API_GEOCODING_FORWARD="/geocoding/v5/{dataset}/{query}.json{?proximity,country,types,bbox,limit,autocomplete}",t.exports.API_GEOCODING_REVERSE="/geocoding/v5/{dataset}/{longitude},{latitude}.json{?types,limit}",t.exports.API_DIRECTIONS="/directions/v5/{account}/{profile}/{encodedWaypoints}.json{?alternatives,geometries,overview,radiuses,steps,continue_straight,bearings}",t.exports.API_DISTANCE="/distances/v1/mapbox/{profile}",t.exports.API_SURFACE="/v4/surface/{mapid}.json{?layer,fields,points,geojson,interpolate,encoded_polyline}",t.exports.API_UPLOADS="/uploads/v1/{owner}",t.exports.API_UPLOAD="/uploads/v1/{owner}/{upload}",t.exports.API_UPLOAD_CREDENTIALS="/uploads/v1/{owner}/credentials",t.exports.API_MATCHING="/matching/v5/{account}/{profile}/{coordinates}.json{?geometries,radiuses,steps,overview,timestamps,annotations}",t.exports.API_DATASET_DATASETS="/datasets/v1/{owner}{?limit,start,fresh}",t.exports.API_DATASET_DATASET="/datasets/v1/{owner}/{dataset}",t.exports.API_DATASET_FEATURES="/datasets/v1/{owner}/{dataset}/features{?reverse,limit,start}",t.exports.API_DATASET_FEATURE="/datasets/v1/{owner}/{dataset}/features/{id}",t.exports.API_TILESTATS_STATISTICS="/tilestats/v1/{owner}/{tileset}",t.exports.API_TILESTATS_LAYER="/tilestats/v1/{owner}/{tileset}/{layer}",t.exports.API_TILESTATS_ATTRIBUTE="/tilestats/v1/{owner}/{tileset}/{layer}/{attribute}",t.exports.API_STATIC="/v4/{mapid}{+overlay}/{+xyz}/{width}x{height}{+retina}{.format}{?access_token}",t.exports.API_STYLES_LIST="/styles/v1/{owner}",t.exports.API_STYLES_CREATE="/styles/v1/{owner}",t.exports.API_STYLES_READ="/styles/v1/{owner}/{styleid}",t.exports.API_STYLES_UPDATE="/styles/v1/{owner}/{styleid}",t.exports.API_STYLES_DELETE="/styles/v1/{owner}/{styleid}",t.exports.API_STYLES_EMBED="/styles/v1/{owner}/{styleid}.html{?zoomwheel,title,access_token}",t.exports.API_STYLES_SPRITE="/styles/v1/{owner}/{styleid}/sprite{+retina}{.format}",t.exports.API_STYLES_SPRITE_ADD_ICON="/styles/v1/{owner}/{styleid}/sprite/{iconName}",t.exports.API_STYLES_SPRITE_DELETE_ICON="/styles/v1/{owner}/{styleid}/sprite/{iconName}",t.exports.API_STYLES_FONT_GLYPH_RANGES="/fonts/v1/{owner}/{font}/{start}-{end}.pbf"},{}],4:[function(e,t){"use strict";function r(e){return e.map(function(e){return n(e),e.longitude+","+e.latitude}).join(";")}var n=e("./invariant_location");t.exports=r},{"./invariant_location":6}],5:[function(e,t){"use strict";function r(e){var t=e.split(".")[1];if(!t)return null;t=t.replace(/-/g,"+").replace(/_/g,"/");var r=t.length%4;if(2===r&&(t+="=="),3===r&&(t+="="),1===r||r>3)return null;try{return JSON.parse(n.decode(t)).u}catch(o){return null}}var n=e("rest/util/base64");t.exports=r},{"rest/util/base64":41}],6:[function(e,t){"use strict";function r(e){n("number"==typeof e.latitude&&"number"==typeof e.longitude,"location must be an object with numeric latitude & longitude properties"),void 0!==e.zoom&&n("number"==typeof e.zoom,"zoom must be numeric")}var n=e("../vendor/invariant");t.exports=r},{"../vendor/invariant":50}],7:[function(e,t){"use strict";function r(e){function t(t,r){this.name=e,n("string"==typeof t,"accessToken required to instantiate Mapbox client");var a=o.DEFAULT_ENDPOINT;void 0!==r&&(n("object"==typeof r,"options must be an object"),r.endpoint&&(n("string"==typeof r.endpoint,"endpoint must be a string"),a=r.endpoint),r.account&&(n("string"==typeof r.account,"account must be a string"),this.owner=r.account)),this.client=i({endpoint:a,accessToken:t}),this.accessToken=t,this.endpoint=a,this.owner=this.owner||s(t),n(!!this.owner,"could not determine account from provided accessToken")}return t}var n=e("../vendor/invariant"),o=e("./constants"),i=e("./client"),s=e("./get_user");t.exports=r},{"../vendor/invariant":50,"./client":2,"./constants":3,"./get_user":5}],8:[function(e,t){"use strict";var r=e("./make_service"),n=e("../vendor/xtend").extendMutable,o=e("./get_user"),i=e("./services/geocoding"),s=e("./services/surface"),a=e("./services/directions"),u=e("./services/uploads"),c=e("./services/matching"),p=e("./services/datasets"),l=e("./services/distance"),f=e("./services/tilestats"),d=r("MapboxClient");n(d.prototype,i.prototype,s.prototype,a.prototype,l.prototype,c.prototype,p.prototype,u.prototype,f.prototype),d.getUser=o,t.exports=d},{"../vendor/xtend":51,"./get_user":5,"./make_service":7,"./services/datasets":10,"./services/directions":11,"./services/distance":12,"./services/geocoding":13,"./services/matching":14,"./services/surface":15,"./services/tilestats":16,"./services/uploads":17}],9:[function(e,t){"use strict";"undefined"==typeof Promise&&e("es6-promise").polyfill(),t["export"]=Promise},{"es6-promise":19}],10:[function(e,t){"use strict";var r=e("../../vendor/invariant"),n=e("../../vendor/hat"),o=e("../make_service"),i=e("../constants"),s=t.exports=o("MapboxDatasets");s.prototype.listDatasets=function(e,t){return"function"==typeof e&&(t=e,e={}),this.client({path:i.API_DATASET_DATASETS,params:{limit:e.limit,start:e.start,fresh:e.fresh,owner:this.owner},callback:t})},s.prototype.createDataset=function(e,t){return void 0===t&&"function"==typeof e&&(t=e,e={}),r("object"==typeof e,"options must be an object"),this.client({path:i.API_DATASET_DATASETS,params:{owner:this.owner},entity:e,callback:t})},s.prototype.readDataset=function(e,t){return r("string"==typeof e,"dataset must be a string"),this.client({path:i.API_DATASET_DATASET,params:{owner:this.owner,dataset:e},callback:t})},s.prototype.updateDataset=function(e,t,n){return r("string"==typeof e,"dataset must be a string"),r("object"==typeof t,"options must be an object"),r(!!t.name||!!t.description,"options must include a name or a description"),this.client({path:i.API_DATASET_DATASET,params:{owner:this.owner,dataset:e},method:"patch",entity:t,callback:n})},s.prototype.deleteDataset=function(e,t){return r("string"==typeof e,"dataset must be a string"),this.client({path:i.API_DATASET_DATASET,params:{owner:this.owner,dataset:e},method:"delete",callback:t})},s.prototype.listFeatures=function(e,t,n){void 0===n&&"function"==typeof t&&(n=t,t={}),r("string"==typeof e,"dataset must be a string"),r("object"==typeof t,"options must be a object");var o={owner:this.owner,dataset:e};return t.reverse&&(r("boolean"==typeof t.reverse,"reverse option must be a boolean"),o.reverse=t.reverse),t.limit&&(r("number"==typeof t.limit,"limit option must be a number"),o.limit=t.limit),t.start&&(r("string"==typeof t.start,"start option must be a string"),o.start=t.start),this.client({path:i.API_DATASET_FEATURES,params:o,callback:n})},s.prototype.insertFeature=function(e,t,o){r("string"==typeof t,"dataset must be a string");var s=e.id||n();return r("string"==typeof s,"The GeoJSON feature's id must be a string"),this.client({path:i.API_DATASET_FEATURE,params:{owner:this.owner,dataset:t,id:s},method:"put",entity:e,callback:o})},s.prototype.readFeature=function(e,t,n){return r("string"==typeof e,"id must be a string"),r("string"==typeof t,"dataset must be a string"),this.client({path:i.API_DATASET_FEATURE,params:{owner:this.owner,dataset:t,id:e},callback:n})},s.prototype.deleteFeature=function(e,t,n){return r("string"==typeof e,"id must be a string"),r("string"==typeof t,"dataset must be a string"),this.client({path:i.API_DATASET_FEATURE,params:{owner:this.owner,dataset:t,id:e},method:"delete",callback:n})}},{"../../vendor/hat":49,"../../vendor/invariant":50,"../constants":3,"../make_service":7}],11:[function(e,t){"use strict";var r=e("../../vendor/invariant"),n=e("../format_points"),o=e("../make_service"),i=e("../constants"),s=o("MapboxDirections");s.prototype.getDirections=function(e,t,o){void 0===o&&"function"==typeof t?(o=t,t={}):void 0===t&&(t={}),r(Array.isArray(e),"waypoints must be an array"),r("object"==typeof t,"options must be an object");var s=n(e),a={encodedWaypoints:s,profile:"driving",account:"mapbox",alternatives:!0,steps:!0,geometries:"geojson"};t.profile&&(r("string"==typeof t.profile,"profile option must be string"),a.profile=t.profile),"undefined"!=typeof t.alternatives&&(r("boolean"==typeof t.alternatives,"alternatives option must be boolean"),a.alternatives=t.alternatives),t.radiuses&&(r(Array.isArray(t.radiuses),"radiuses must be an array"),r(t.radiuses.length===e.length,"There must be as many radiuses as there are waypoints in the request"),a.radiuses=t.radiuses.join(";")),"undefined"!=typeof t.steps&&(r("boolean"==typeof t.steps,"steps option must be boolean"),a.steps=t.steps);var u=["polyline","geojson"];t.geometries&&(r(-1!==u.indexOf(t.geometries),"geometries option must be "+u),a.geometries=t.geometries);var c=["simplified","full"];return t.overview&&(r(-1!==c.indexOf(t.overview),"overview option must be "+c),a.overview=t.overview),"undefined"!=typeof t.continue_straight&&(r("boolean"==typeof t.continue_straight,"continue_straight option must be boolean"),a.continue_straight=t.continue_straight),t.bearings&&(r(Array.isArray(t.radiuses),"bearings must be an array"),r(t.bearings.length===e.length,"There must be as many bearings as there are waypoints in the request"),a.bearings=t.bearings.join(";")),this.client({path:i.API_DIRECTIONS,params:a,callback:o})},t.exports=s},{"../../vendor/invariant":50,"../constants":3,"../format_points":4,"../make_service":7}],12:[function(e,t){"use strict";var r=e("../../vendor/invariant"),n=e("../make_service"),o=e("../constants"),i=n("MapboxDistance");i.prototype.getDistances=function(e,t,n){void 0===n&&"function"==typeof t&&(n=t,t={}),r(Array.isArray(e),"waypoints must be an array");var i="driving";return t.profile&&(r("string"==typeof t.profile,"profile option must be string"),i=t.profile),this.client({path:o.API_DISTANCE,params:{profile:i},entity:{coordinates:e},method:"post",callback:n})},t.exports=i},{"../../vendor/invariant":50,"../constants":3,"../make_service":7}],13:[function(e,t){"use strict";function r(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}var n=e("../../vendor/invariant"),o=e("../make_service"),i=e("../constants"),s=o("MapboxGeocoding"),a=5,u=3;s.prototype.geocodeForward=function(e,t,o){if(void 0===o&&"function"==typeof t&&(o=t,t={}),Array.isArray(e)){if("mapbox.places-permanent"!==t.dataset)throw new Error("Batch geocoding is only available with the mapbox.places-permanent endpoint. See https://mapbox.com/api-documentation/#batch-requests for details");e=e.join(";")}n("string"==typeof e,"query must be a string"),n("object"==typeof t,"options must be an object");var s={query:e,dataset:"mapbox.places"},a=u;return t.precision&&(n("number"==typeof t.precision,"precision option must be number"),a=t.precision),t.proximity&&(n("number"==typeof t.proximity.latitude&&"number"==typeof t.proximity.longitude,"proximity must be an object with numeric latitude & longitude properties"),s.proximity=r(t.proximity.longitude,a)+","+r(t.proximity.latitude,a)),t.bbox&&(n("number"==typeof t.bbox[0]&&"number"==typeof t.bbox[1]&&"number"==typeof t.bbox[2]&&"number"==typeof t.bbox[3]&&4===t.bbox.length,"bbox must be an array with numeric values in the form [minX, minY, maxX, maxY]"),s.bbox=t.bbox[0]+","+t.bbox[1]+","+t.bbox[2]+","+t.bbox[3]),t.limit&&(n("number"==typeof t.limit,"limit must be a number"),s.limit=t.limit),t.dataset&&(n("string"==typeof t.dataset,"dataset option must be string"),s.dataset=t.dataset),t.country&&(n("string"==typeof t.country,"country option must be string"),s.country=t.country),t.types&&(n("string"==typeof t.types,"types option must be string"),s.types=t.types),"boolean"==typeof t.autocomplete&&(n("boolean"==typeof t.autocomplete,"autocomplete must be a boolean"),s.autocomplete=t.autocomplete),this.client({path:i.API_GEOCODING_FORWARD,params:s,callback:o})},s.prototype.geocodeReverse=function(e,t,o){void 0===o&&"function"==typeof t&&(o=t,t={}),n("object"==typeof e,"location must be an object"),n("object"==typeof t,"options must be an object"),n("number"==typeof e.latitude&&"number"==typeof e.longitude,"location must be an object with numeric latitude & longitude properties");var s={dataset:"mapbox.places"};t.dataset&&(n("string"==typeof t.dataset,"dataset option must be string"),s.dataset=t.dataset);var u=a;return t.precision&&(n("number"==typeof t.precision,"precision option must be number"),u=t.precision),t.types&&(n("string"==typeof t.types,"types option must be string"),s.types=t.types),t.limit&&(n("number"==typeof t.limit,"limit option must be a number"),n(1===t.types.split(",").length,"a single type must be specified to use the limit option"),s.limit=t.limit),s.longitude=r(e.longitude,u),s.latitude=r(e.latitude,u),this.client({path:i.API_GEOCODING_REVERSE,params:s,callback:o})},t.exports=s},{"../../vendor/invariant":50,"../constants":3,"../make_service":7}],14:[function(e,t){"use strict";var r=e("../../vendor/invariant"),n=e("../make_service"),o=e("../constants"),i=n("MapboxMatching");i.prototype.matching=function(e,t,n){void 0===n&&"function"==typeof t&&(n=t,t={}),r(Array.isArray(e),"coordinates must be an array");var i={profile:"driving",account:"mapbox",geometries:"geojson",coordinates:e.join(";")};t.profile&&(r("string"==typeof t.profile,"profile option must be string"),i.profile=t.profile);var s=["polyline","geojson"];t.geometries&&(r(-1!==s.indexOf(t.geometries),"geometries option must be "+s),i.geometries=t.geometries),t.radiuses&&(r(Array.isArray(t.radiuses),"radiuses must be an array"),r(t.radiuses.length===e.length,"There must be as many radiuses as there are coordinates in the request"),i.radiuses=t.radiuses.join(";")),"undefined"!=typeof t.steps&&(r("boolean"==typeof t.steps,"steps option must be boolean"),i.steps=t.steps);var a=["full","simplified"];return"undefined"!=typeof t.overview&&(r(-1!==a.indexOf(t.overview)||t.overview===!1,"overview option must be "+a+" or false"),i.overview=t.overview),t.timestamps&&(r(Array.isArray(t.timestamps),"timestamps must be an array"),r(t.timestamps.length===e.length,"There must be as many timestamps as there are coordinates in the request"),i.timestamps=t.timestamps.join(";")),t.annotations&&(r(Array.isArray(t.annotations),"annotations must be an array"),i.annotations=t.annotations.join()),this.client({path:o.API_MATCHING,params:i,method:"get",callback:n})},t.exports=i},{"../../vendor/invariant":50,"../constants":3,"../make_service":7}],15:[function(e,t){"use strict";var r=e("../../vendor/invariant"),n=e("../format_points"),o=e("../make_service"),i=e("../constants"),s=o("MapboxSurface");s.prototype.surface=function(e,t,o,s,a,u){void 0===u&&"function"==typeof a&&(u=a,a={}),r("string"==typeof e,"mapid must be a string"),r("string"==typeof t,"layer must be a string"),r(Array.isArray(o),"fields must be an array of strings"),r(Array.isArray(s)||"string"==typeof s,"path must be an array of objects or a string"),r("object"==typeof a,"options must be an object");var c=!0,p=!1;void 0!==a.interpolate&&(r("boolean"==typeof a.interpolate,"interpolate must be a boolean"),c=a.interpolate),void 0!==a.geojson&&(r("boolean"==typeof a.geojson,"geojson option must be boolean"),p=a.geojson);var l={geojson:p,layer:t,mapid:e,fields:o.join(","),interpolate:c};return Array.isArray(s)?l.points=n(s):l.encoded_polyline=s,void 0!==a.zoom&&(r("number"==typeof a.zoom,"zoom must be a number"),l.z=a.zoom),this.client({path:i.API_SURFACE,params:l,callback:u})},t.exports=s},{"../../vendor/invariant":50,"../constants":3,"../format_points":4,"../make_service":7}],16:[function(e,t){"use strict";var r=e("../../vendor/invariant"),n=e("../make_service"),o=e("../constants"),i=t.exports=n("MapboxTilestats");i.prototype.getTilestats=function(e,t){r("string"==typeof e,"tileset must be a string");var n=e.split(".")[0];return n===e&&(n=this.owner),this.client({path:o.API_TILESTATS_STATISTICS,params:{owner:n,tileset:e},callback:t})},i.prototype.putTilestats=function(e,t,n){r("string"==typeof e,"tileset must be a string");var i=e.split(".")[0];return i===e&&(i=this.owner),this.client({path:o.API_TILESTATS_STATISTICS,params:{owner:i,tileset:e},entity:t,method:"put",callback:n})}},{"../../vendor/invariant":50,"../constants":3,"../make_service":7}],17:[function(e,t){"use strict";var r=e("../../vendor/invariant"),n=e("../make_service"),o=e("../constants"),i=t.exports=n("MapboxUploads");i.prototype.listUploads=function(e){return this.client({path:o.API_UPLOADS,params:{owner:this.owner},callback:e})},i.prototype.createUploadCredentials=function(e){return this.client({path:o.API_UPLOAD_CREDENTIALS,params:{owner:this.owner},callback:e})},i.prototype.createUpload=function(e,t){return r("object"==typeof e,"options must be an object"),this.client({path:o.API_UPLOADS,params:{owner:this.owner},entity:e,callback:t})},i.prototype.readUpload=function(e,t){return r("string"==typeof e,"upload must be a string"),this.client({path:o.API_UPLOAD,params:{owner:this.owner,upload:e},callback:t})},i.prototype.deleteUpload=function(e,t){return r("string"==typeof e,"upload must be a string"),this.client({method:"delete",path:o.API_UPLOAD,params:{owner:this.owner,upload:e},callback:t})}},{"../../vendor/invariant":50,"../constants":3,"../make_service":7}],18:[function(e,t){function r(e){var t=void 0;return e.status&&(t=e.status.code),{url:e.url,status:t,headers:e.headers,entity:e.entity,error:e.error,callback:e.request.callback}}var n=e("rest/interceptor"),o=n({response:r});t.exports=o},{"rest/interceptor":26}],19:[function(t,r,n){(function(o,i){!function(t,o){"object"==typeof n&&"undefined"!=typeof r?r.exports=o():"function"==typeof e&&e.amd?e(o):t.ES6Promise=o()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function n(e){V=e}function s(e){X=e}function a(){return function(){return o.nextTick(f)}}function u(){return"undefined"!=typeof J?function(){J(f)}:l()}function c(){var e=0,t=new Z(f),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function l(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;W>e;e+=2){var t=re[e],r=re[e+1];t(r),re[e]=void 0,re[e+1]=void 0}W=0}function d(){try{var e=t,r=e("vertx");return J=r.runOnLoop||r.runOnContext,u()}catch(n){return l()}}function m(e,t){var r=arguments,n=this,o=new this.constructor(y);void 0===o[oe]&&R(o);var i=n._state;return i?!function(){var e=r[i-1];X(function(){return O(i,o,e,n._result)})}():j(n,o,e,t),o}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(y);return T(r,e),r}function y(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(t){return ue.error=t,ue}}function w(e,t,r,n){try{e.call(t,r,n)}catch(o){return o}}function _(e,t,r){X(function(e){var n=!1,o=w(r,t,function(r){n||(n=!0,t!==r?T(e,r):S(e,r))},function(t){n||(n=!0,P(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,P(e,o))},e)}function x(e,t){t._state===se?S(e,t._result):t._state===ae?P(e,t._result):j(t,void 0,function(t){return T(e,t)},function(t){return P(e,t)})}function A(e,t,n){t.constructor===e.constructor&&n===m&&t.constructor.resolve===h?x(e,t):n===ue?P(e,ue.error):void 0===n?S(e,t):r(n)?_(e,t,n):S(e,t)}function T(t,r){t===r?P(t,v()):e(r)?A(t,r,g(r)):S(t,r)}function E(e){e._onerror&&e._onerror(e._result),I(e)}function S(e,t){e._state===ie&&(e._result=t,e._state=se,0!==e._subscribers.length&&X(I,e))}function P(e,t){e._state===ie&&(e._state=ae,e._result=t,X(E,e))}function j(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+se]=r,o[i+ae]=n,0===i&&e._state&&X(I,e)}function I(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)n=t[s],o=t[s+r],n?O(r,n,o,i):o(i);e._subscribers.length=0}}function D(){this.error=null}function k(e,t){try{return e(t)}catch(r){return ce.error=r,ce}}function O(e,t,n,o){var i=r(n),s=void 0,a=void 0,u=void 0,c=void 0;if(i){if(s=k(n,o),s===ce?(c=!0,a=s.error,s=null):u=!0,t===s)return void P(t,b())}else s=o,u=!0;t._state!==ie||(i&&u?T(t,s):c?P(t,a):e===se?S(t,s):e===ae&&P(t,s))}function C(e,t){try{t(function(t){T(e,t)},function(t){P(e,t)})}catch(r){P(e,r)}}function U(){return pe++}function R(e){e[oe]=pe++,e._state=void 0,e._result=void 0,e._subscribers=[]}function L(e,t){this._instanceConstructor=e,this.promise=new e(y),this.promise[oe]||R(this.promise),Q(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):P(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function q(e){return new L(this,e).promise}function N(e){var t=this;return new t(Q(e)?function(r,n){for(var o=e.length,i=0;o>i;i++)t.resolve(e[i]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function F(e){var t=this,r=new t(y);return P(r,e),r}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Y(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function G(e){this[oe]=U(),this._result=this._state=void 0,this._subscribers=[],y!==e&&("function"!=typeof e&&z(),this instanceof G?C(this,e):Y())}function H(){var e=void 0;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;if(r){var n=null;try{n=Object.prototype.toString.call(r.resolve())}catch(t){}if("[object Promise]"===n&&!r.cast)return}e.Promise=G}var B=void 0;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Q=B,W=0,J=void 0,V=void 0,X=function(e,t){re[W]=e,re[W+1]=t,W+=2,2===W&&(V?V(f):ne())},K="undefined"!=typeof window?window:void 0,$=K||{},Z=$.MutationObserver||$.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof o&&"[object process]"==={}.toString.call(o),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3),ne=void 0;ne=ee?a():Z?c():te?p():void 0===K&&"function"==typeof t?d():l();var oe=Math.random().toString(36).substring(16),ie=void 0,se=1,ae=2,ue=new D,ce=new D,pe=0;return L.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===ie&&e>r;r++)this._eachEntry(t[r],r)},L.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===h){var o=g(e);if(o===m&&e._state!==ie)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===G){var i=new r(y);A(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},L.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===ie&&(this._remaining--,e===ae?P(n,r):this._result[t]=r),0===this._remaining&&S(n,this._result)},L.prototype._willSettleAt=function(e,t){var r=this;j(e,void 0,function(e){return r._settledAt(se,t,e)},function(e){return r._settledAt(ae,t,e)})},G.all=q,G.race=N,G.resolve=h,G.reject=F,G._setScheduler=n,G._setAsap=s,G._asap=X,G.prototype={constructor:G,then:m,"catch":function(e){return this.then(null,e)}},G.polyfill=H,G.Promise=G,G})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:20}],20:[function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function s(){h&&d&&(h=!1,d.length?m=d.concat(m):y=-1,m.length&&a())}function a(){if(!h){var e=o(s);h=!0;for(var t=m.length;t;){for(d=m,m=[];++y<t;)d&&d[y].run();y=-1,t=m.length}d=null,h=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var p,l,f=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(e){p=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var d,m=[],h=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new u(e,t)),1!==m.length||h||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],21:[function(e,t){"use strict";function r(e,t){var r,n,o,i,a;if(r=e,o={},t){for(n in t)a=new RegExp("\\{"+n+"\\}"),a.test(r)?r=r.replace(a,encodeURIComponent(t[n]),"g"):o[n]=t[n];i=s.write(o),i&&(r+=-1===r.indexOf("?")?"?":"&",r+=i)}return r}function n(e,t){return 0===e.indexOf(t)}function o(e,t){return this instanceof o?void(e instanceof o?(this._template=e.template,this._params=i({},this._params,t)):(this._template=(e||"").toString(),this._params=t||{})):new o(e,t)}var i,s,a,u,c,p;i=e("./util/mixin"),s=e("./mime/type/application/x-www-form-urlencoded"),u=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,c=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,p=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(e,t){return new o(this._template+e,i({},this._params,t))},fullyQualify:function(){if("undefined"==typeof location)return this;if(this.isFullyQualified())return this;var e=this._template;return n(e,"//")?e=a.protocol+e:n(e,"/")?e=a.origin+e:this.isAbsolute()||(e=a.origin+a.pathname.substring(0,a.pathname.lastIndexOf("/")+1)),-1===e.indexOf("/",8)&&(e+="/"),new o(e,this._params)},isAbsolute:function(){return c.test(this.build())},isFullyQualified:function(){return p.test(this.build())},isCrossOrigin:function(){if(!a)return!0;var e=this.parts();return e.protocol!==a.protocol||e.hostname!==a.hostname||e.port!==a.port},parts:function(){var e,t;return e=this.fullyQualify().build().match(u),t={href:e[0],protocol:e[1],host:e[3]||"",hostname:e[4]||"",port:e[6],pathname:e[7]||"",search:e[8]||"",hash:e[9]||""},t.origin=t.protocol+"//"+t.host,t.port=t.port||("https:"===t.protocol?"443":"http:"===t.protocol?"80":""),t},build:function(e){return r(this._template,i({},this._params,e))},toString:function(){return this.build()}},a="undefined"!=typeof location?new o(location.href).parts():void 0,t.exports=o},{"./mime/type/application/x-www-form-urlencoded":37,"./util/mixin":44}],22:[function(e,t){"use strict";var r=e("./client/default"),n=e("./client/xhr");r.setPlatformDefaultClient(n),t.exports=r},{"./client/default":24,"./client/xhr":25}],23:[function(e,t){"use strict";t.exports=function(e,t){return t&&(e.skip=function(){return t}),e.wrap=function(t,r){return t(e,r)},e.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),e.wrap.apply(this,arguments)},e}},{}],24:[function(e,t){"use strict";function r(){return o.apply(void 0,arguments)}var n,o,i;n=e("../client"),"function"!=typeof Promise&&console&&console.log&&console.log("An ES6 Promise implementation is required to use rest.js. See https://github.com/cujojs/when/blob/master/docs/es6-promise-shim.md for using when.js as a Promise polyfill."),r.setDefaultClient=function(e){o=e},r.getDefaultClient=function(){return o},r.resetDefaultClient=function(){o=i},r.setPlatformDefaultClient=function(e){if(i)throw new Error("Unable to redefine platformDefaultClient");o=i=e},t.exports=n(r)},{"../client":23}],25:[function(e,t){"use strict";function r(e){var t={};return e?(e.trim().split(a).forEach(function(e){var r,n,i;r=e.indexOf(":"),n=o(e.substring(0,r).trim()),i=e.substring(r+1).trim(),t[n]?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}),t):t}function n(e,t){return Object.keys(t||{}).forEach(function(r){if(t.hasOwnProperty(r)&&r in e)try{e[r]=t[r]}catch(n){}}),e}var o,i,s,a;o=e("../util/normalizeHeaderName"),i=e("../util/responsePromise"),s=e("../client"),a=/[\r|\n]+/,t.exports=s(function(e){return i.promise(function(t,o){var i,s,a,u,c,p,l,f;if(e="string"==typeof e?{path:e}:e||{},l={request:e},e.canceled)return l.error="precanceled",void o(l);if(f=e.engine||XMLHttpRequest,!f)return void o({request:e,error:"xhr-not-available"});c=e.entity,e.method=e.method||(c?"POST":"GET"),s=e.method,a=l.url=e.path||"";try{i=l.raw=new f,n(i,e.mixin),i.open(s,a,!0),n(i,e.mixin),u=e.headers;for(p in u)("Content-Type"!==p||"multipart/form-data"!==u[p])&&i.setRequestHeader(p,u[p]);e.canceled=!1,e.cancel=function(){e.canceled=!0,i.abort(),o(l)},i.onreadystatechange=function(){e.canceled||i.readyState===(f.DONE||4)&&(l.status={code:i.status,text:i.statusText},l.headers=r(i.getAllResponseHeaders()),l.entity=i.responseText,1223===l.status.code&&(l.status.code=204),l.status.code>0?t(l):setTimeout(function(){t(l)},0))};try{i.onerror=function(){l.error="loaderror",o(l)}}catch(d){}i.send(c)}catch(d){l.error="loaderror",o(l)}})})},{"../client":23,"../util/normalizeHeaderName":45,"../util/responsePromise":46}],26:[function(e,t){"use strict";function r(e){return e}function n(e){return e}function o(e){return e}function i(e){return this instanceof i?void u(this,e):new i(e)}function s(e){
var t,s,u,l;return e=e||{},t=e.init||r,s=e.request||n,u=e.success||e.response||o,l=e.error||function(){return Promise.resolve((e.response||o).apply(this,arguments)).then(Promise.reject.bind(Promise))},function(r,n){function o(e){var t,a;return t={},a={arguments:Array.prototype.slice.call(arguments),client:o},e="string"==typeof e?{path:e}:e||{},e.originator=e.originator||o,c(s.call(t,e,n,a),function(e){var o,s,c;return c=r,e instanceof i&&(s=e.abort,c=e.client||c,o=e.response,e=e.request),o=o||Promise.resolve(e).then(function(e){return Promise.resolve(c(e)).then(function(e){return u.call(t,e,n,a)},function(e){return l.call(t,e,n,a)})}),s?Promise.race([o,s]):o},function(t){return Promise.reject({request:e,error:t})})}return"object"==typeof r&&(n=r),"function"!=typeof r&&(r=e.client||a),n=t(n||{}),p(o,r)}}var a,u,c,p;a=e("./client/default"),u=e("./util/mixin"),c=e("./util/responsePromise"),p=e("./client"),s.ComplexRequest=i,t.exports=s},{"./client":23,"./client/default":24,"./util/mixin":44,"./util/responsePromise":46}],27:[function(e,t){"use strict";var r,n,o;r=e("../interceptor"),n=e("../util/mixin"),o=function(){function e(e,t,r){(e in t||e in r)&&(t[e]=n({},r[e],t[e]))}function t(e,t,r){e in r&&!(e in t)&&(t[e]=r[e])}var r={method:t,path:t,params:e,headers:e,entity:t,mixin:e};return function(e,t){for(var n in r)r[n](n,e,t);return e}}(),t.exports=r({request:function(e,t){return o(e,t)}})},{"../interceptor":26,"../util/mixin":44}],28:[function(e,t){"use strict";var r;r=e("../interceptor"),t.exports=r({init:function(e){return e.code=e.code||400,e},response:function(e,t){return e.status&&e.status.code>=t.code?Promise.reject(e):e}})},{"../interceptor":26}],29:[function(e,t){"use strict";var r,n,o,i,s,a;r=e("../interceptor"),n=e("../mime"),o=e("../mime/registry"),a=e("../util/attempt"),i={read:function(e){return e},write:function(e){return e}},s={read:function(){throw"No read method found on converter"},write:function(){throw"No write method found on converter"}},t.exports=r({init:function(e){return e.registry=e.registry||o,e},request:function(e,t){var r,o;return o=e.headers||(e.headers={}),r=n.parse(o["Content-Type"]||t.mime||"text/plain"),o.Accept=o.Accept||t.accept||r.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in e?(o["Content-Type"]=r.raw,t.registry.lookup(r)["catch"](function(){if(t.permissive)return i;throw"mime-unknown"}).then(function(n){var o=t.client||e.originator,i=n.write||s.write;return a(i.bind(void 0,e.entity,{client:o,request:e,mime:r,registry:t.registry}))["catch"](function(){throw"mime-serialization"}).then(function(t){return e.entity=t,e})})):e},response:function(e,t){if(!(e.headers&&e.headers["Content-Type"]&&e.entity))return e;var r=n.parse(e.headers["Content-Type"]);return t.registry.lookup(r)["catch"](function(){return i}).then(function(n){var o=t.client||e.request&&e.request.originator,i=n.read||s.read;return a(i.bind(void 0,e.entity,{client:o,response:e,mime:r,registry:t.registry}))["catch"](function(t){throw e.error="mime-deserialization",e.cause=t,e}).then(function(t){return e.entity=t,e})})}})},{"../interceptor":26,"../mime":33,"../mime/registry":34,"../util/attempt":40}],30:[function(e,t){"use strict";var r,n;r=e("../interceptor"),n=e("../UrlBuilder"),t.exports=r({init:function(e){return e.params=e.params||{},e},request:function(e,t){var r,o;return r=e.path||"",o=e.params||{},e.path=new n(r,t.params).append("",o).build(),delete e.params,e}})},{"../UrlBuilder":21,"../interceptor":26}],31:[function(e,t){"use strict";function r(e,t){return 0===e.indexOf(t)}function n(e,t){return e.lastIndexOf(t)+t.length===e.length}var o,i;o=e("../interceptor"),i=e("../UrlBuilder"),t.exports=o({request:function(e,t){var o;return t.prefix&&!new i(e.path).isFullyQualified()&&(o=t.prefix,e.path&&(n(o,"/")||r(e.path,"/")||(o+="/"),o+=e.path),e.path=o),e}})},{"../UrlBuilder":21,"../interceptor":26}],32:[function(e,t){"use strict";var r,n,o;r=e("../interceptor"),n=e("../util/uriTemplate"),o=e("../util/mixin"),t.exports=r({init:function(e){return e.params=e.params||{},e.template=e.template||"",e},request:function(e,t){var r,i;return r=e.path||t.template,i=o({},e.params,t.params),e.path=n.expand(r,i),delete e.params,e}})},{"../interceptor":26,"../util/mixin":44,"../util/uriTemplate":48}],33:[function(e,t){"use strict";function r(e){var t,r;return t=e.split(";"),r=t[0].trim().split("+"),{raw:e,type:r[0],suffix:r[1]?"+"+r[1]:"",params:t.slice(1).reduce(function(e,t){return t=t.split("="),e[t[0].trim()]=t[1]?t[1].trim():void 0,e},{})}}t.exports={parse:r}},{}],34:[function(e,t){"use strict";function r(e){this.lookup=function(t){var r;return r="string"==typeof t?n.parse(t):t,e[r.raw]?e[r.raw]:e[r.type+r.suffix]?e[r.type+r.suffix]:e[r.type]?e[r.type]:e[r.suffix]?e[r.suffix]:Promise.reject(new Error('Unable to locate converter for mime "'+r.raw+'"'))},this.delegate=function(e){return{read:function(){var t=arguments;return this.lookup(e).then(function(e){return e.read.apply(this,t)}.bind(this))}.bind(this),write:function(){var t=arguments;return this.lookup(e).then(function(e){return e.write.apply(this,t)}.bind(this))}.bind(this)}},this.register=function(t,r){return e[t]=Promise.resolve(r),e[t]},this.child=function(){return new r(Object.create(e))}}var n,o;n=e("../mime"),o=new r({}),o.register("application/hal",e("./type/application/hal")),o.register("application/json",e("./type/application/json")),o.register("application/x-www-form-urlencoded",e("./type/application/x-www-form-urlencoded")),o.register("multipart/form-data",e("./type/multipart/form-data")),o.register("text/plain",e("./type/text/plain")),o.register("+json",o.delegate("application/json")),t.exports=o},{"../mime":33,"./type/application/hal":35,"./type/application/json":36,"./type/application/x-www-form-urlencoded":37,"./type/multipart/form-data":38,"./type/text/plain":39}],35:[function(e,t){"use strict";function r(e,t,r){Object.defineProperty(e,t,{value:r,configurable:!0,enumerable:!1,writeable:!0})}var n,o,i,s,a;n=e("../../../interceptor/pathPrefix"),o=e("../../../interceptor/template"),i=e("../../../util/find"),s=e("../../../util/lazyPromise"),a=e("../../../util/responsePromise"),t.exports={read:function(e,t){function u(e,t){(t&&p&&p.warn||p.log)&&(p.warn||p.log).call(p,"Relationship '"+e+"' is deprecated, see "+t)}var c,p;return t=t||{},c=t.client,p=t.console||p,t.registry.lookup(t.mime.suffix).then(function(r){return r.read(e,t)}).then(function(e){return i.findProperties(e,"_embedded",function(e,t,n){Object.keys(e).forEach(function(n){if(!(n in t)){var o=a({entity:e[n]});r(t,n,o)}}),r(t,n,e)}),i.findProperties(e,"_links",function(e,t,i){Object.keys(e).forEach(function(n){var i=e[n];n in t||r(t,n,a.make(s(function(){return i.deprecation&&u(n,i.deprecation),i.templated===!0?o(c)({path:i.href}):c({path:i.href})})))}),r(t,i,e),r(t,"clientFor",function(t,r){var i=e[t];if(!i)throw new Error("Unknown relationship: "+t);return i.deprecation&&u(t,i.deprecation),i.templated===!0?o(r||c,{template:i.href}):n(r||c,{prefix:i.href})}),r(t,"requestFor",function(e,t,r){var n=this.clientFor(e,r);return n(t)})}),e})},write:function(e,t){return t.registry.lookup(t.mime.suffix).then(function(r){return r.write(e,t)})}}},{"../../../interceptor/pathPrefix":31,"../../../interceptor/template":32,"../../../util/find":42,"../../../util/lazyPromise":43,"../../../util/responsePromise":46}],36:[function(e,t){"use strict";function r(e,t){return{read:function(t){return JSON.parse(t,e)},write:function(e){return JSON.stringify(e,t)},extend:r}}t.exports=r()},{}],37:[function(e,t){"use strict";function r(e){return e=encodeURIComponent(e),e.replace(i,"+")}function n(e){return e=e.replace(s," "),decodeURIComponent(e)}function o(e,t,n){return Array.isArray(n)?n.forEach(function(r){e=o(e,t,r)}):(e.length>0&&(e+="&"),e+=r(t),void 0!==n&&null!==n&&(e+="="+r(n))),e}var i,s;i=/%20/g,s=/\+/g,t.exports={read:function(e){var t={};return e.split("&").forEach(function(e){var r,o,i;r=e.split("="),o=n(r[0]),i=2===r.length?n(r[1]):null,o in t?(Array.isArray(t[o])||(t[o]=[t[o]]),t[o].push(i)):t[o]=i}),t},write:function(e){var t="";return Object.keys(e).forEach(function(r){t=o(t,r,e[r])}),t}}},{}],38:[function(e,t){"use strict";function r(e){return e&&1===e.nodeType&&"FORM"===e.tagName}function n(e){var t,r=new FormData;for(var n in e)e.hasOwnProperty(n)&&(t=e[n],t instanceof File?r.append(n,t,t.name):t instanceof Blob?r.append(n,t):r.append(n,String(t)));return r}t.exports={write:function(e){if("undefined"==typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(e instanceof FormData)return e;if(r(e))return new FormData(e);if("object"==typeof e&&null!==e)return n(e);throw new Error("Unable to create FormData from object "+e)}}},{}],39:[function(e,t){"use strict";t.exports={read:function(e){return e},write:function(e){return e.toString()}}},{}],40:[function(e,t){"use strict";function r(e){try{return Promise.resolve(e())}catch(t){return Promise.reject(t)}}t.exports=r},{}],41:[function(e,t){"use strict";function r(e){if(/([^\u0000-\u00ff])/.test(e))throw new Error("Can't base64 encode non-ASCII characters.");for(var t,r,n,i=0,s=[];i<e.length;){switch(t=e.charCodeAt(i),n=i%3){case 0:s.push(o.charAt(t>>2));break;case 1:s.push(o.charAt((3&r)<<4|t>>4));break;case 2:s.push(o.charAt((15&r)<<2|t>>6)),s.push(o.charAt(63&t))}r=t,i+=1}return 0===n?(s.push(o.charAt((3&r)<<4)),s.push("==")):1===n&&(s.push(o.charAt((15&r)<<2)),s.push("=")),s.join("")}function n(e){if(e=e.replace(/\s/g,""),!/^[a-z0-9\+\/\s]+\={0,2}$/i.test(e)||e.length%4>0)throw new Error("Not a base64-encoded string.");var t,r,n,i=0,s=[];for(e=e.replace(/\=/g,"");i<e.length;){switch(t=o.indexOf(e.charAt(i)),n=i%4){case 1:s.push(String.fromCharCode(r<<2|t>>4));break;case 2:s.push(String.fromCharCode((15&r)<<4|t>>2));break;case 3:s.push(String.fromCharCode((3&r)<<6|t))}r=t,i+=1}return s.join("")}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports={encode:r,decode:n}},{}],42:[function(e,t){"use strict";t.exports={findProperties:function r(e,t,n){"object"==typeof e&&null!==e&&(t in e&&n(e[t],e,t),Object.keys(e).forEach(function(o){r(e[o],t,n)}))}}},{}],43:[function(e,t){"use strict";function r(e){var t,r,o,i;return t=!1,o=new Promise(function(e,t){r={resolve:e,reject:t}}),i=o.then,o.then=function(){return t||(t=!0,n(e).then(r.resolve,r.reject)),i.apply(o,arguments)},o}var n=e("./attempt");t.exports=r},{"./attempt":40}],44:[function(e,t){"use strict";function r(e){var t,r,o,i;for(e||(e={}),t=1,r=arguments.length;r>t;t+=1){o=arguments[t];for(i in o)i in e&&(e[i]===o[i]||i in n&&n[i]===o[i])||(e[i]=o[i])}return e}var n={};t.exports=r},{}],45:[function(e,t){"use strict";function r(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("-")}t.exports=r},{}],46:[function(e,t){"use strict";function r(e,t){return e.then(function(e){return e&&e[t]},function(e){return Promise.reject(e&&e[t])})}function n(){return r(this,"entity")}function o(){return r(r(this,"status"),"code")}function i(){return r(this,"headers")}function s(e){return e=p(e),r(this.headers(),e)}function a(e){return e=[].concat(e),u(e.reduce(function(e,t){return e.then(function(e){if("string"==typeof t&&(t={rel:t}),"function"!=typeof e.entity.clientFor)throw new Error("Hypermedia response expected");var r=e.entity.clientFor(t.rel);return r({params:t.params})})},this))}function u(e){return e.status=o,e.headers=i,e.header=s,e.entity=n,e.follow=a,e}function c(e,t,r){return u(Promise.resolve(e).then(t,r))}var p=e("./normalizeHeaderName");c.make=u,c.reject=function(e){return u(Promise.reject(e))},c.promise=function(e){return u(new Promise(e))},t.exports=c},{"./normalizeHeaderName":45}],47:[function(e,t){"use strict";function r(e,t){if("string"!=typeof e)throw new Error("String required for URL encoding");return e.split("").map(function(e){if(t.hasOwnProperty(e))return e;var r=e.charCodeAt(0);if(127>=r){var n=r.toString(16).toUpperCase();return"%"+(n.length%2===1?"0":"")+n}return encodeURIComponent(e).toUpperCase()}).join("")}function n(e){return e=e||i.unreserved,function(t){return r(t,e)}}function o(e){return decodeURIComponent(e)}var i;i=function(){var e={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789"};return e.genDelims=":/?#[]@",e.subDelims="!$&'()*+,;=",e.reserved=e.genDelims+e.subDelims,e.unreserved=e.alpha+e.digit+"-._~",e.url=e.reserved+e.unreserved,e.scheme=e.alpha+e.digit+"+-.",e.userinfo=e.unreserved+e.subDelims+":",e.host=e.unreserved+e.subDelims,e.port=e.digit,e.pchar=e.unreserved+e.subDelims+":@",e.segment=e.pchar,e.path=e.segment+"/",e.query=e.pchar+"/?",e.fragment=e.pchar+"/?",Object.keys(e).reduce(function(t,r){return t[r]=e[r].split("").reduce(function(e,t){return e[t]=!0,e},{}),t},{})}(),t.exports={decode:o,encode:n(),encodeURL:n(i.url),encodeScheme:n(i.scheme),encodeUserInfo:n(i.userinfo),encodeHost:n(i.host),encodePort:n(i.port),encodePathSegment:n(i.segment),encodePath:n(i.path),encodeQuery:n(i.query),encodeFragment:n(i.fragment)}},{}],48:[function(e,t){"use strict";function r(e,t,r){return t.split(",").reduce(function(t,n){var o,s;if(o={},"*"===n.slice(-1)&&(n=n.slice(0,-1),o.explode=!0),a.test(n)){var u=a.exec(n);n=u[1],o.maxLength=parseInt(u[2])}return n=i.decode(n),s=r[n],void 0===s||null===s?t:(Array.isArray(s)?t=s.reduce(function(t,r){return t.length?(t+=o.explode?e.separator:",",e.named&&o.explode&&(t+=e.encoder(n),t+=r.length?"=":e.empty)):(t+=e.first,e.named&&(t+=e.encoder(n),t+=r.length?"=":e.empty)),t+=e.encoder(r)},t):"object"==typeof s?t=Object.keys(s).reduce(function(t,r){return t.length?t+=o.explode?e.separator:",":(t+=e.first,e.named&&!o.explode&&(t+=e.encoder(n),t+=s[r].length?"=":e.empty)),t+=e.encoder(r),t+=o.explode?"=":",",t+=e.encoder(s[r])},t):(s=String(s),o.maxLength&&(s=s.slice(0,o.maxLength)),t+=t.length?e.separator:e.first,e.named&&(t+=e.encoder(n),t+=s.length?"=":e.empty),t+=e.encoder(s)),t)},"")}function n(e,t){var n;if(n=s[e.slice(0,1)],n?e=e.slice(1):n=s[""],n.reserved)throw new Error("Reserved expression operations are not supported");return r(n,e,t)}function o(e,t){var r,o,i;for(i="",o=0;;){if(r=e.indexOf("{",o),-1===r){i+=e.slice(o);break}i+=e.slice(o,r),o=e.indexOf("}",r)+1,i+=n(e.slice(r+1,o-1),t)}return i}var i,s,a;i=e("./uriEncoder"),a=/^([^:]*):([0-9]+)$/,s={"":{first:"",separator:",",named:!1,empty:"",encoder:i.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:i.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:i.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:i.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:i.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:i.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:i.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:i.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},t.exports={expand:o}},{"./uriEncoder":47}],49:[function(e,t){var r=t.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),0>=e)return"0";for(var n=Math.log(Math.pow(2,e))/Math.log(t),o=2;n===1/0;o*=2)n=Math.log(Math.pow(2,e/o))/Math.log(t)*o;for(var i=n-Math.floor(n),s="",o=0;o<Math.floor(n);o++){var a=Math.floor(Math.random()*t).toString(t);s=a+s}if(i){var u=Math.pow(t,i),a=Math.floor(Math.random()*u).toString(t);s=a+s}var c=parseInt(s,t);return c!==1/0&&c>=Math.pow(2,e)?r(e,t):s}},{}],50:[function(e,t){(function(e){"use strict";var r=e.env.NODE_ENV,n=function(e,t,n,o,i,s,a,u){if("production"!==r&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,o,i,s,a,u],l=0;c=new Error(t.replace(/%s/g,function(){return p[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}).call(this,e("_process"))},{_process:20}],51:[function(e,t){function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)o.call(r,n)&&(e[n]=r[n])}return e}function n(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)o.call(r,n)&&(e[n]=r[n])}return e}t.exports.extendMutable=r,t.exports.extend=n;var o=Object.prototype.hasOwnProperty},{}]},{},[8])(8)});